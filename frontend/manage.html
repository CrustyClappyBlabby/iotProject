<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Plants & Rooms - Leaf ITM</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container-fluid p-0">
        <div class="row g-0">
            <!-- Sidebar -->
            <div class="col-auto sidebar">
                <div class="leaf-logo">Leaf<sup>ITM</sup></div>
                <div class="nav flex-column">
                    <a class="nav-link" href="index.html">
                        <span class="nav-icon">üè†</span> Overview
                    </a>
                    <a class="nav-link" href="livingRoom.html">
                        <span class="nav-icon">üõãÔ∏è</span> Living Room
                    </a>
                    <a class="nav-link" href="kitchen.html">
                        <span class="nav-icon">üçΩÔ∏è</span> Kitchen
                    </a>
                    <a class="nav-link" href="bedroom.html">
                        <span class="nav-icon">üõèÔ∏è</span> Bedroom
                    </a>
                    <a class="nav-link active" href="manage.html">
                        <span class="nav-icon">‚öôÔ∏è</span> Manage
                    </a>
                </div>
            </div>

            <!-- Main Content -->
            <div class="col main-content">
                <div class="container py-4">
                    <header class="mb-4">
                        <h1 class="page-title">Plant & Room Management</h1>
                        <p class="text-muted">Add, edit, and manage your rooms and plants</p>
                    </header>
                    
                    <!-- Navigation tabs -->
                    <ul class="nav nav-tabs mb-4" id="managementTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="rooms-tab" data-bs-toggle="tab" data-bs-target="#rooms-panel" type="button" role="tab" aria-controls="rooms-panel" aria-selected="true">Rooms</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="plants-tab" data-bs-toggle="tab" data-bs-target="#plants-panel" type="button" role="tab" aria-controls="plants-panel" aria-selected="false">Plants</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="thresholds-tab" data-bs-toggle="tab" data-bs-target="#thresholds-panel" type="button" role="tab" aria-controls="thresholds-panel" aria-selected="false">Thresholds</button>
                        </li>
                    </ul>
                    
                    <!-- Tab content -->
                    <div class="tab-content" id="managementTabsContent">
                        <!-- Rooms Panel -->
                        <div class="tab-pane fade show active" id="rooms-panel" role="tabpanel" aria-labelledby="rooms-tab">
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="management-section">
                                        <h3>Current Rooms</h3>
                                        <div class="card-list" id="roomsList">
                                            <!-- Room cards will be inserted here by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="management-section">
                                        <h3>Add New Room</h3>
                                        <form id="addRoomForm">
                                            <div class="form-group">
                                                <label for="roomId">Room ID (no spaces):</label>
                                                <input type="text" class="form-control" id="roomId" required placeholder="e.g., livingRoom">
                                            </div>
                                            <div class="form-group">
                                                <label for="roomName">Display Name:</label>
                                                <input type="text" class="form-control" id="roomName" required placeholder="e.g., Living Room">
                                            </div>
                                            <button type="submit" class="btn btn-primary">Add Room</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Plants Panel -->
                        <div class="tab-pane fade" id="plants-panel" role="tabpanel" aria-labelledby="plants-tab">
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="management-section">
                                        <h3>Current Plants</h3>
                                        <div class="navbar-management">
                                            <div class="d-flex">
                                                <label class="me-2">Filter by room:</label>
                                                <select class="form-select form-select-sm w-auto" id="plantRoomFilter">
                                                    <option value="all">All Rooms</option>
                                                    <!-- Room options will be inserted here by JavaScript -->
                                                </select>
                                            </div>
                                        </div>
                                        <div class="card-list" id="plantsList">
                                            <!-- Plant cards will be inserted here by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="management-section">
                                        <h3>Add New Plant</h3>
                                        <form id="addPlantForm">
                                            <div class="form-group">
                                                <label for="plantId">Plant ID (no spaces):</label>
                                                <input type="text" class="form-control" id="plantId" required placeholder="e.g., ficus">
                                            </div>
                                            <div class="form-group">
                                                <label for="plantName">Display Name:</label>
                                                <input type="text" class="form-control" id="plantName" required placeholder="e.g., Ficus">
                                            </div>
                                            <div class="form-group">
                                                <label for="plantRoom">Room:</label>
                                                <select class="form-select" id="plantRoom" required>
                                                    <!-- Room options will be inserted here by JavaScript -->
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="plantType">Plant Type (for thresholds):</label>
                                                <select class="form-select" id="plantType" required>
                                                    <option value="ficus">Ficus</option>
                                                    <option value="lily">Peace Lily</option>
                                                    <option value="cactus">Cactus</option>
                                                    <option value="herb">Herb</option>
                                                    <option value="mint">Mint</option>
                                                </select>
                                            </div>
                                            <!-- Initial Sensor Values section removed -->
                                            <button type="submit" class="btn btn-primary mt-3">Add Plant</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Thresholds Panel -->
                        <div class="tab-pane fade" id="thresholds-panel" role="tabpanel" aria-labelledby="thresholds-tab">
                            <div class="management-section">
                                <h3>Plant Type Thresholds</h3>
                                <div class="alert alert-info">
                                    <i class="bi bi-info-circle-fill"></i> These thresholds define the optimal ranges for each plant type.
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-3">
                                        <select class="form-select" id="thresholdPlantType">
                                            <option value="ficus">Ficus</option>
                                            <option value="lily">Peace Lily</option>
                                            <option value="cactus">Cactus</option>
                                            <option value="herb">Herb</option>
                                            <option value="mint">Mint</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div id="thresholdEditor">
                                    <!-- Threshold editor will be filled by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery first for UI functionality -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Plant Thresholds and UI Helper -->
    <script src="js/plantThresholds.js"></script>
    <!-- Plant Classes - Object-Oriented Implementation -->
    <script src="js/plantClasses.js"></script>
    <!-- Plant Monitor Script -->
    <script src="js/plantMonitor.js"></script>
</body>
</html>